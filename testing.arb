$storyScript = {}

$storyScript[1]= -> {
    def puzzle() 
        puts "Type \"2\""
        userInput = gets.chomp
        if (userInput == "q")
            return "q"
        elsif (userInput == "2")
            return 2
        else
            puts "You are an idiot"
             puzzle()
        end
    end
    puzzle() 
}

$storyScript[2] = lambda do 
    def puzzle()
        puts "Type \"q\" to save and quit"
        userInput = gets.chomp
        if (userInput == "q")
            return "q"
        else
            puts "You are an idiot"
            puzzle()
        end
    end
    puzzle()
end


def saveGame()
    puts "Saving..."
    # Save Code
    puts "Saved!"
end

def storyEngine(i)
    if(i == "q")
        saveGame
        puts "Closing game..."
        return
    else
       storyEngine($storyScript[i.to_i].call)
    end
end

storyEngine(1)